{
  "stream_context": {
    "summary": "Kaze collaborates with Sauraen, the creator of the F3DEX3 microcode, to diagnose and debug a significant performance regression in \"Return to Yoshi's Island\". They use custom performance counters to investigate why the new microcode is slower than expected, ultimately discovering an unexplained 9ms of processing time. Kaze also works on modeling assets for a Mario Kart 64-themed retro level.",
    "level": [
      "Course 12",
      "Mario Kart 64 Retro Pipe"
    ]
  },
  "development_findings": [
    {
      "summary": "The team is attempting to integrate the F3DEX3 microcode with the expectation of significant performance gains and new graphical features like occlusion planes.",
      "quote": "We want to make sure this microcode actually works here and makes the game run faster. We're expecting this to be a huge improvement."
    },
    {
      "summary": "A critical performance regression was discovered where F3DEX3 runs slower (~27ms) than older microcodes (~21-25ms). The issue is more pronounced in this game due to highly optimized RDP performance, which exposes RSP inefficiencies.",
      "quote": "In my game, the memory transfer speed is just optimized so much already that the RDP is less of a bottleneck and that's why it's more evident in like other people's text than in mine."
    },
    {
      "summary": "Microcode developer Sauraen explained that F3DEX3's architecture requires more matrix multiplications per vertex for lighting compared to F3DEX2, a trade-off made to improve other areas which is now causing a bottleneck.",
      "quote": "In F3DX2, it pre-transforms the normals for the light directions... it only transforms directly from model space to clip space. So it's one matrix multiply and no normalizations in the RSP for each vertex if you're not doing point lights."
    },
    {
      "summary": "The game does not use hardware point lights. Instead, Kaze fakes the effect using vertex colors calculated on the CPU and uses up to seven simultaneous directional lights for dynamic objects.",
      "quote": "I have a few places where I use point lights, but I just fake them via vertex colors. So I just run them on a CPU."
    },
    {
      "summary": "After implementing custom performance counters, the team discovered that vertex and triangle processing account for ~18ms of the 27ms total RSP task time, isolating the problem to an unexplained ~9ms of processing.",
      "quote": "You have 10 milliseconds for vertices, 8 milliseconds for triangles and 27 milliseconds... that mysterious now extra what is this extra like eight or nine milliseconds... that would just like solve all of your problems."
    },
    {
      "summary": "Kaze worked on 3D modeling for a Mario Kart 64 retro-themed level, including the start/finish line, and planned to add a moving train and cactus obstacles.",
      "quote": null
    }
  ],
  "context_findings": [
    {
      "summary": "Kaze uses the outdated and insecure Project 64 1.6 emulator for development convenience, acknowledging the risks but mitigating them by not running external ROMs.",
      "quote": "You shouldn't use it if you're gonna play someone else's romhack because they can just put malware in there, but I'm not gonna play any."
    },
    {
      "summary": "Kaze's design philosophy prioritizes preserving the core Mario 64 movement and gameplay, avoiding the addition of mechanics (like a drivable kart) that would detract from that focus.",
      "quote": "We want the fun to be for Mario's movement and not just random things like that. It kind of feels like, oh, you like Mario 64. Well, fuck you. Here's Mario Kart. I don't want that."
    },
    {
      "summary": "Kaze expresses a pragmatic acceptance of unauthorized reproductions of his work being sold by third parties, viewing it as an unavoidable part of the romhacking scene.",
      "quote": "You gotta have some tolerance for that in order to be in this."
    },
    {
      "summary": "Kaze believes game ratings should follow a normal distribution to be objective, rather than being skewed towards higher scores.",
      "quote": "I think you should rate it on a normal distribution. So you should give almost every hack a rating between 4 and 6."
    },
    {
      "summary": "Kaze's streaming philosophy is to begin working immediately rather than waiting for an audience to assemble.",
      "quote": "No, I just start working and if people show up then they're there."
    }
  ],
  "contributor_findings": {
    "biobak": [],
    "badub": [],
    "zeina": [
      {
        "summary": "Zeina was present and supportive in the stream chat during the technical debugging session.",
        "quote": null
      }
    ]
  },
  "key_stories": [
    {
      "title": "F3DEX3 Performance Regression Debugging",
      "summary": "Kaze and microcode developer Sauraen teamed up to solve a critical performance issue where the new F3DEX3 microcode was making the game significantly slower. Through a live collaborative debugging session, they implemented custom performance counters, successfully narrowing the problem down to a mysterious, unexplained 9-millisecond slowdown in the RSP task.",
      "challenge": "The new F3DEX3 microcode, which was expected to improve performance, was instead causing a significant slowdown, increasing frame processing time from ~21ms to 27ms and threatening the project's viability.",
      "process": "Kaze collaborated live with Sauraen, the microcode's creator. They established performance baselines against older microcodes, discussed architectural differences, and systematically disabled code sections (like lighting) to test hypotheses. The key step was when Sauraen created a custom build of the microcode with new performance counters to measure vertex and triangle processing time independently.",
      "outcome": "The issue remains unresolved, but the problem has been successfully isolated. The custom counters proved that a mysterious, unknown process is consuming ~9ms of RSP time. Microcode developer Sauraen will investigate this 'mystery time' offline, with plans to reconvene with Kaze later.",
      "key_quote": "You have 10 milliseconds for vertices, 8 milliseconds for triangles and 27 milliseconds... that mysterious now extra what is this extra like eight or nine milliseconds... that would just like solve all of your problems.",
      "related_to": [
        "Kaze Emanuar",
        "Sauraen"
      ]
    }
  ],
  "open_questions": [
    {
      "topic": "Unexplained RSP Performance Loss",
      "context": "Custom performance counters revealed that vertex and triangle processing takes ~18ms, but the total RSP task time is ~27ms. An unknown process is consuming ~9ms of processing time.",
      "questions": [
        "What are the leading theories for the source of the unexplained 9ms of RSP time?",
        "What are the next steps in profiling the microcode to identify this unknown workload?",
        "Sauraen mentioned a potential 'F3DEX2.5' as a fallback. How seriously is this being considered as an alternative path?"
      ],
      "related_to": [
        "Kaze Emanuar",
        "Sauraen"
      ],
      "priority": "high"
    },
    {
      "topic": "Bowser Magician Boss",
      "context": "Kaze mentioned a 'Bowser magician' boss is planned but is stalled because he is waiting on animations. An animator from 2021 did not deliver.",
      "questions": [
        "What is the concept for the Bowser Magician boss?",
        "How does a key dependency like animations falling through affect project planning and morale?",
        "What is the new plan for getting these animations made?"
      ],
      "related_to": [
        "Kaze Emanuar"
      ],
      "priority": "medium"
    },
    {
      "topic": "Lighting Techniques",
      "context": "Kaze stated he fakes point lights using vertex colors calculated on the CPU, and also uses up to seven directional lights simultaneously in some levels.",
      "questions": [
        "Can you explain the process of faking point lights with CPU-calculated vertex colors?",
        "What are the performance and visual trade-offs of this technique compared to using actual hardware point lights?",
        "How do you manage seven simultaneous directional lights, and what technical challenges does that present?"
      ],
      "related_to": [
        "Kaze Emanuar"
      ],
      "priority": "medium"
    },
    {
      "topic": "Mario's Lighting Bug with F3DEX3",
      "context": "Kaze mentioned that Mario's model appears uncolored because of changes in the F3DEX3 GBI and that he needs to 'update the way I do lighting' to fix it. He called the fix 'trivial.'",
      "questions": [
        "Can you walk us through what 'updating the way I do lighting' for Mario's model entails?",
        "Why does the new GBI in F3DEX3 break the previous lighting method for Mario specifically?",
        "Is this a common issue when migrating projects to F3DEX3?"
      ],
      "related_to": [
        "Kaze Emanuar"
      ],
      "priority": "low"
    }
  ]
}